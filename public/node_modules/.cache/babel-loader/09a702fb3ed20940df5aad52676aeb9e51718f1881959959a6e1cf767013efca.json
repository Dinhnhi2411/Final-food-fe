{"ast":null,"code":"import _regeneratorRuntime from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box}from\"@mui/material\";import React,{useState,useRef,useEffect}from\"react\";import apiService from\"../../app/apiService\";import\"./sliderShow.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SliderShow(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var timeoutRef=useRef(null);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),slider=_useState4[0],setSlider=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){var getSingleProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return apiService.get(\"/sliders\");case 4:res=_context.sent;setSlider(res.data.Sliders);setError(\"\");_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setError(_context.t0.message);case 13:setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function getSingleProducts(){return _ref.apply(this,arguments);};}();getSingleProducts();// eslint-disable-next-line\n},[]);function resetTimeout(){if(timeoutRef.current){clearTimeout(timeoutRef.current);}}useEffect(function(){resetTimeout();timeoutRef.current=setTimeout(function(){return setIndex(function(prevIndex){return prevIndex===slider.length-1?0:prevIndex+1;});},6000);return function(){resetTimeout();};// eslint-disable-next-line\n},[slider,index]);return/*#__PURE__*/_jsxs(Box,{className:\"slideshow\",children:[/*#__PURE__*/_jsx(Box,{className:\"slideshowSlider\",style:{transform:\"translate3d(\".concat(-index*100,\"%, 0, 0)\")},children:slider.map(function(item,index){return/*#__PURE__*/_jsx(\"img\",{className:\"slide\",src:item.sliderShow,alt:\"\"},item._id);})}),/*#__PURE__*/_jsx(Box,{className:\"slideshowDots\",children:slider.map(function(item,idx){return/*#__PURE__*/_jsx(Box,{className:\"slideshowDot\".concat(index===idx?\" acBoxe\":\"\"),onClick:function onClick(){setIndex(idx);}},item._id);})})]});}export default SliderShow;","map":{"version":3,"names":["Box","React","useState","useRef","useEffect","apiService","SliderShow","index","setIndex","timeoutRef","slider","setSlider","loading","setLoading","error","setError","getSingleProducts","get","res","data","Sliders","console","log","message","resetTimeout","current","clearTimeout","setTimeout","prevIndex","length","transform","map","item","sliderShow","_id","idx"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/components/sliderShow/SliderShow.js"],"sourcesContent":["import { Box } from \"@mui/material\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport apiService from \"../../app/apiService\";\r\n\r\nimport \"./sliderShow.css\";\r\n\r\nfunction SliderShow() {\r\n  const [index, setIndex] = useState(0);\r\n  const timeoutRef = useRef(null);\r\n  const [slider, setSlider] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const getSingleProducts = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await apiService.get(`/sliders`);\r\n\r\n        setSlider(res.data.Sliders);\r\n        setError(\"\");\r\n      } catch (error) {\r\n        console.log(error);\r\n        setError(error.message);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getSingleProducts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  function resetTimeout() {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    resetTimeout();\r\n    timeoutRef.current = setTimeout(\r\n      () =>\r\n        setIndex((prevIndex) =>\r\n          prevIndex === slider.length - 1 ? 0 : prevIndex + 1\r\n        ),\r\n      6000\r\n    );\r\n    return () => {\r\n      resetTimeout();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [slider, index]);\r\n\r\n  return (\r\n    <Box className=\"slideshow\">\r\n      <Box\r\n        className=\"slideshowSlider\"\r\n        style={{ transform: `translate3d(${-index * 100}%, 0, 0)` }}\r\n      >\r\n        {slider.map((item, index) => (\r\n          <img key={item._id} className=\"slide\" src={item.sliderShow} alt=\"\" />\r\n        ))}\r\n      </Box>\r\n\r\n      <Box className=\"slideshowDots\">\r\n        {slider.map((item, idx) => (\r\n          <Box\r\n            key={item._id}\r\n            className={`slideshowDot${index === idx ? \" acBoxe\" : \"\"}`}\r\n            onClick={() => {\r\n              setIndex(idx);\r\n            }}\r\n          ></Box>\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default SliderShow;\r\n\r\n"],"mappings":"oYAAA,OAASA,GAAG,KAAQ,eAAe,CACnC,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAOC,WAAU,KAAM,sBAAsB,CAE7C,MAAO,kBAAkB,CAAC,wFAE1B,QAASC,WAAU,EAAG,CACpB,cAA0BJ,QAAQ,CAAC,CAAC,CAAC,wCAA9BK,KAAK,eAAEC,QAAQ,eACtB,GAAMC,WAAU,CAAGN,MAAM,CAAC,IAAI,CAAC,CAC/B,eAA4BD,QAAQ,CAAC,EAAE,CAAC,yCAAjCQ,MAAM,eAAEC,SAAS,eACxB,eAA8BT,QAAQ,CAAC,IAAI,CAAC,yCAArCU,OAAO,eAAEC,UAAU,eAC1B,eAA0BX,QAAQ,CAAC,EAAE,CAAC,yCAA/BY,KAAK,eAAEC,QAAQ,eAEtBX,SAAS,CAAC,UAAM,CACd,GAAMY,kBAAiB,4FAAG,6IACxBH,UAAU,CAAC,IAAI,CAAC,CAAC,sCAEGR,WAAU,CAACY,GAAG,YAAY,QAAtCC,GAAG,eAETP,SAAS,CAACO,GAAG,CAACC,IAAI,CAACC,OAAO,CAAC,CAC3BL,QAAQ,CAAC,EAAE,CAAC,CAAC,+EAEbM,OAAO,CAACC,GAAG,aAAO,CAClBP,QAAQ,CAAC,YAAMQ,OAAO,CAAC,CAAC,QAE1BV,UAAU,CAAC,KAAK,CAAC,CAAC,oEACnB,kBAZKG,kBAAiB,0CAYtB,CACDA,iBAAiB,EAAE,CACnB;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,QAASQ,aAAY,EAAG,CACtB,GAAIf,UAAU,CAACgB,OAAO,CAAE,CACtBC,YAAY,CAACjB,UAAU,CAACgB,OAAO,CAAC,CAClC,CACF,CAEArB,SAAS,CAAC,UAAM,CACdoB,YAAY,EAAE,CACdf,UAAU,CAACgB,OAAO,CAAGE,UAAU,CAC7B,iBACEnB,SAAQ,CAAC,SAACoB,SAAS,QACjBA,UAAS,GAAKlB,MAAM,CAACmB,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGD,SAAS,CAAG,CAAC,GACpD,GACH,IAAI,CACL,CACD,MAAO,WAAM,CACXJ,YAAY,EAAE,CAChB,CAAC,CACD;AACF,CAAC,CAAE,CAACd,MAAM,CAAEH,KAAK,CAAC,CAAC,CAEnB,mBACE,MAAC,GAAG,EAAC,SAAS,CAAC,WAAW,wBACxB,KAAC,GAAG,EACF,SAAS,CAAC,iBAAiB,CAC3B,KAAK,CAAE,CAAEuB,SAAS,uBAAiB,CAACvB,KAAK,CAAG,GAAG,YAAW,CAAE,UAE3DG,MAAM,CAACqB,GAAG,CAAC,SAACC,IAAI,CAAEzB,KAAK,qBACtB,YAAoB,SAAS,CAAC,OAAO,CAAC,GAAG,CAAEyB,IAAI,CAACC,UAAW,CAAC,GAAG,CAAC,EAAE,EAAxDD,IAAI,CAACE,GAAG,CAAmD,EACtE,CAAC,EACE,cAEN,KAAC,GAAG,EAAC,SAAS,CAAC,eAAe,UAC3BxB,MAAM,CAACqB,GAAG,CAAC,SAACC,IAAI,CAAEG,GAAG,qBACpB,KAAC,GAAG,EAEF,SAAS,uBAAiB5B,KAAK,GAAK4B,GAAG,CAAG,SAAS,CAAG,EAAE,CAAG,CAC3D,OAAO,CAAE,kBAAM,CACb3B,QAAQ,CAAC2B,GAAG,CAAC,CACf,CAAE,EAJGH,IAAI,CAACE,GAAG,CAKR,EACR,CAAC,EACE,GACF,CAEV,CAEA,cAAe5B,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}