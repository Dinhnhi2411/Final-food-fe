{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gitlab\\\\dinhngocliennhi1999_frontend\\\\src\\\\features\\\\review\\\\ReviewList.js\",\n  _s = $RefreshSig$();\nimport { Pagination, Typography } from \"@mui/material\";\nimport { Stack } from \"@mui/system\";\nimport React, { useEffect, useState } from \"react\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { REVIEWS_PER_PRODUCT } from \"../../app/config\";\nimport LoadingScreen from \"../../components/loadingScreen/LoadingScreen\";\nimport PaginationBar from \"../../components/pagination/PaginationBar\";\nimport ReviewCard from \"./ReviewCard\";\nimport { getReviews } from \"./reviewSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReviewList(_ref) {\n  _s();\n  let {\n    productId\n  } = _ref;\n  const [page, setPage] = useState(1);\n  const {\n    reviewsByProduct,\n    reviewsById,\n    totalReviews,\n    isLoading,\n    currentPage\n  } = useSelector(state => {\n    var _state$review, _state$review2, _state$review3, _state$review4;\n    return {\n      reviewsByProduct: state === null || state === void 0 ? void 0 : (_state$review = state.review) === null || _state$review === void 0 ? void 0 : _state$review.reviewsByProduct[productId],\n      totalReviews: state === null || state === void 0 ? void 0 : state.review.totalReviewsByProduct[productId],\n      currentPage: (state === null || state === void 0 ? void 0 : (_state$review2 = state.review) === null || _state$review2 === void 0 ? void 0 : _state$review2.currentPageByProduct[productId]) || 1,\n      reviewsById: state === null || state === void 0 ? void 0 : (_state$review3 = state.review) === null || _state$review3 === void 0 ? void 0 : _state$review3.reviewsById,\n      isLoading: state === null || state === void 0 ? void 0 : (_state$review4 = state.review) === null || _state$review4 === void 0 ? void 0 : _state$review4.isLoading\n    };\n  }, shallowEqual);\n  const totalPages = Math.ceil(totalReviews / REVIEWS_PER_PRODUCT);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) dispatch(getReviews({\n      productId,\n      page\n    }));\n  }, [productId, dispatch, page]);\n  let renderReviews;\n  if (reviewsByProduct) {\n    const reviews = reviewsByProduct === null || reviewsByProduct === void 0 ? void 0 : reviewsByProduct.map(reviewId => reviewsById[reviewId]);\n    renderReviews = /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 1.5,\n      children: reviews === null || reviews === void 0 ? void 0 : reviews.map(review => /*#__PURE__*/_jsxDEV(ReviewCard, {\n        review: review\n      }, review._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  } else if (isLoading) {\n    renderReviews = /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 1.5,\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      justifyContent: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle\",\n        sx: {\n          color: \"text.secondary\"\n        },\n        children: totalReviews > 1 ? `${totalReviews} reviews` : totalReviews === 1 ? `${totalReviews} review` : \"No review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PaginationBar, {\n        page: page,\n        setPage: setPage,\n        totalPage: +totalPages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), renderReviews]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ReviewList, \"EhzmHdaNQkZKWjY9kz4KDLMRwrM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ReviewList;\nexport default ReviewList;\nvar _c;\n$RefreshReg$(_c, \"ReviewList\");","map":{"version":3,"names":["Pagination","Typography","Stack","React","useEffect","useState","shallowEqual","useDispatch","useSelector","REVIEWS_PER_PRODUCT","LoadingScreen","PaginationBar","ReviewCard","getReviews","ReviewList","productId","page","setPage","reviewsByProduct","reviewsById","totalReviews","isLoading","currentPage","state","review","totalReviewsByProduct","currentPageByProduct","totalPages","Math","ceil","dispatch","renderReviews","reviews","map","reviewId","_id","color"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/review/ReviewList.js"],"sourcesContent":["import { Pagination, Typography } from \"@mui/material\";\r\nimport { Stack } from \"@mui/system\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { REVIEWS_PER_PRODUCT } from \"../../app/config\";\r\nimport LoadingScreen from \"../../components/loadingScreen/LoadingScreen\";\r\nimport PaginationBar from \"../../components/pagination/PaginationBar\";\r\nimport ReviewCard from \"./ReviewCard\";\r\nimport { getReviews } from \"./reviewSlice\";\r\nfunction ReviewList({ productId }) {\r\n  const [page, setPage] = useState(1)\r\n  const {\r\n    reviewsByProduct,\r\n    reviewsById,\r\n    totalReviews,\r\n    isLoading,\r\n    currentPage,\r\n  } = useSelector(\r\n    (state) => ({\r\n      reviewsByProduct: state?.review?.reviewsByProduct[productId],\r\n      totalReviews: state?.review.totalReviewsByProduct[productId],\r\n      currentPage: state?.review?.currentPageByProduct[productId] || 1,\r\n      reviewsById: state?.review?.reviewsById,\r\n      isLoading: state?.review?.isLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n\r\n  const totalPages = Math.ceil(totalReviews / REVIEWS_PER_PRODUCT);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (productId) dispatch(getReviews({ productId, page }));\r\n  }, [productId, dispatch, page]);\r\n\r\n  let renderReviews;\r\n\r\n  if (reviewsByProduct) {\r\n    const reviews = reviewsByProduct?.map((reviewId) => reviewsById[reviewId]);\r\n\r\n    renderReviews = (\r\n      <Stack spacing={1.5}>\r\n        {reviews?.map((review) => (\r\n          <ReviewCard key={review._id} review={review} />\r\n        ))}\r\n      </Stack>\r\n    );\r\n  } else if (isLoading) {\r\n    renderReviews = <LoadingScreen />;\r\n  }\r\n  return (\r\n    <Stack spacing={1.5}>\r\n      <Stack direction=\"row\" justifyContent=\"space-between\">\r\n        <Typography variant=\"subtitle\" sx={{ color: \"text.secondary\" }}>\r\n          {totalReviews > 1\r\n            ? `${totalReviews} reviews`\r\n            : totalReviews === 1\r\n            ? `${totalReviews} review`\r\n            : \"No review\"}\r\n        </Typography>\r\n\r\n       <PaginationBar\r\n        page={page}\r\n        setPage={setPage}\r\n        totalPage={+totalPages}\r\n       />\r\n      </Stack>\r\n      {renderReviews}\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default ReviewList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}