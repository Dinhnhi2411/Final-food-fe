{"ast":null,"code":"import _slicedToArray from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Alert,Box,Typography}from\"@mui/material\";import{Container}from\"@mui/system\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import LoadingScreen from\"../components/loadingScreen/LoadingScreen\";import PaginationBar from\"../components/pagination/PaginationBar\";import OrderList from\"../features/order/OrderList\";import{getOrder}from\"../features/order/orderSlice\";import useAuth from\"../hooks/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrderPage(){var _useAuth=useAuth(),user=_useAuth.user;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useSelector=useSelector(function(state){return state===null||state===void 0?void 0:state.order;}),orders=_useSelector.orders,totalPages=_useSelector.totalPages,totalOrders=_useSelector.totalOrders,isLoading=_useSelector.isLoading,error=_useSelector.error;useEffect(function(){if(user){dispatch(getOrder({page:page}));}},[dispatch,page,user]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Box,{sx:{position:\"relative\",height:1},children:isLoading?/*#__PURE__*/_jsx(LoadingScreen,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}):/*#__PURE__*/_jsx(OrderList,{orders:orders}),/*#__PURE__*/_jsx(Box,{sx:{mt:{xs:2,md:5},mb:{xs:2,md:5},display:\"flex\",justifyContent:\"center\"},children:totalOrders?/*#__PURE__*/_jsx(PaginationBar,{page:page,setPage:setPage,totalPage:+totalPages}):/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"No Products Yet\"})})]})})});}export default OrderPage;","map":{"version":3,"names":["Alert","Box","Typography","Container","React","useEffect","useState","useDispatch","useSelector","useNavigate","toast","LoadingScreen","PaginationBar","OrderList","getOrder","useAuth","OrderPage","user","dispatch","page","setPage","state","order","orders","totalPages","totalOrders","isLoading","error","position","height","mt","xs","md","mb","display","justifyContent"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/pages/OrderPage.js"],"sourcesContent":["import { Alert, Box, Typography } from \"@mui/material\";\r\nimport { Container } from \"@mui/system\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport LoadingScreen from \"../components/loadingScreen/LoadingScreen\";\r\nimport PaginationBar from \"../components/pagination/PaginationBar\";\r\nimport OrderList from \"../features/order/OrderList\";\r\nimport { getOrder } from \"../features/order/orderSlice\";\r\nimport useAuth from \"../hooks/useAuth\";\r\n\r\nfunction OrderPage() {\r\n  const { user } = useAuth();\r\n  const dispatch = useDispatch();\r\n  const [page, setPage] = useState(1);\r\n  const { orders, totalPages, totalOrders, isLoading, error } = useSelector(\r\n    (state) => state?.order\r\n  );\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n        dispatch(getOrder({ page }));\r\n    }\r\n  }, [dispatch, page, user]);\r\n\r\n\r\n  return (\r\n    <Container>\r\n       <Box sx={{ position: \"relative\", height: 1 }}>\r\n      {isLoading ? (\r\n        <LoadingScreen />\r\n      ) : (\r\n        <>\r\n          {error ? (\r\n            <Alert severity=\"error\">{error}</Alert>\r\n          ) : (\r\n            <OrderList orders={orders} />\r\n          )}\r\n\r\n          <Box\r\n            sx={{\r\n              mt: { xs: 2, md: 5 },\r\n              mb: { xs: 2, md: 5 },\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            {totalOrders ? (\r\n              <PaginationBar\r\n                page={page}\r\n                setPage={setPage}\r\n                totalPage={+totalPages}\r\n              />\r\n            ) : (\r\n              <Typography variant=\"h6\">No Products Yet</Typography>\r\n            )}\r\n          </Box>\r\n        </>\r\n      )}\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default OrderPage;\r\n"],"mappings":"4HAAA,OAASA,KAAK,CAAEC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CACtD,OAASC,SAAS,KAAQ,aAAa,CACvC,MAAOC,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAOC,cAAa,KAAM,2CAA2C,CACrE,MAAOC,cAAa,KAAM,wCAAwC,CAClE,MAAOC,UAAS,KAAM,6BAA6B,CACnD,OAASC,QAAQ,KAAQ,8BAA8B,CACvD,MAAOC,QAAO,KAAM,kBAAkB,CAAC,6IAEvC,QAASC,UAAS,EAAG,CACnB,aAAiBD,OAAO,EAAE,CAAlBE,IAAI,UAAJA,IAAI,CACZ,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,cAAwBD,QAAQ,CAAC,CAAC,CAAC,wCAA5Ba,IAAI,eAAEC,OAAO,eACpB,iBAA8DZ,WAAW,CACvE,SAACa,KAAK,QAAKA,MAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,KAAK,GACxB,CAFOC,MAAM,cAANA,MAAM,CAAEC,UAAU,cAAVA,UAAU,CAAEC,WAAW,cAAXA,WAAW,CAAEC,SAAS,cAATA,SAAS,CAAEC,KAAK,cAALA,KAAK,CAIzDtB,SAAS,CAAC,UAAM,CACd,GAAIY,IAAI,CAAE,CACNC,QAAQ,CAACJ,QAAQ,CAAC,CAAEK,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAC,CAChC,CACF,CAAC,CAAE,CAACD,QAAQ,CAAEC,IAAI,CAAEF,IAAI,CAAC,CAAC,CAG1B,mBACE,KAAC,SAAS,wBACP,KAAC,GAAG,EAAC,EAAE,CAAE,CAAEW,QAAQ,CAAE,UAAU,CAAEC,MAAM,CAAE,CAAE,CAAE,UAC7CH,SAAS,cACR,KAAC,aAAa,IAAG,cAEjB,2BACGC,KAAK,cACJ,KAAC,KAAK,EAAC,QAAQ,CAAC,OAAO,UAAEA,KAAK,EAAS,cAEvC,KAAC,SAAS,EAAC,MAAM,CAAEJ,MAAO,EAC3B,cAED,KAAC,GAAG,EACF,EAAE,CAAE,CACFO,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CAAC,CACpBC,EAAE,CAAE,CAAEF,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CAAC,CACpBE,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAClB,CAAE,UAEDV,WAAW,cACV,KAAC,aAAa,EACZ,IAAI,CAAEN,IAAK,CACX,OAAO,CAAEC,OAAQ,CACjB,SAAS,CAAE,CAACI,UAAW,EACvB,cAEF,KAAC,UAAU,EAAC,OAAO,CAAC,IAAI,6BACzB,EACG,GAET,EACK,EACI,CAEhB,CAEA,cAAeR,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}