{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gitlab\\\\dinhngocliennhi1999_frontend\\\\src\\\\features\\\\review\\\\ReviewList.js\",\n  _s = $RefreshSig$();\nimport { Pagination, Typography } from '@mui/material';\nimport { Stack } from '@mui/system';\nimport React, { useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { REVIEWS_PER_PRODUCT } from \"../../app/config\";\nimport LoadingScreen from '../../components/loadingScreen/LoadingScreen';\nimport ReviewCard from './ReviewCard';\nimport { getReviews } from './reviewSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReviewList(_ref) {\n  _s();\n  let {\n    productId\n  } = _ref;\n  const {\n    reviewsByProduct,\n    reviewsById,\n    count,\n    isLoading,\n    currentPage\n  } = useSelector(state => {\n    var _state$review, _state$review2, _state$review3, _state$review4;\n    return {\n      reviewsByProduct: state === null || state === void 0 ? void 0 : (_state$review = state.review) === null || _state$review === void 0 ? void 0 : _state$review.reviewsByProduct[productId],\n      // count: state?.review?.totalReviewsByProduct[productId],\n      count: state === null || state === void 0 ? void 0 : state.review,\n      currentPage: (state === null || state === void 0 ? void 0 : (_state$review2 = state.review) === null || _state$review2 === void 0 ? void 0 : _state$review2.currentPageByProduct[productId]) || 1,\n      reviewsById: state === null || state === void 0 ? void 0 : (_state$review3 = state.review) === null || _state$review3 === void 0 ? void 0 : _state$review3.reviewsById,\n      isLoading: state === null || state === void 0 ? void 0 : (_state$review4 = state.review) === null || _state$review4 === void 0 ? void 0 : _state$review4.isLoading\n    };\n  }, shallowEqual);\n  console.log(\"reviewByProduct\", reviewsByProduct);\n  console.log(\"totalReview\", count);\n  // const totalPages = Math.ceil(totalReviews / REVIEWS_PER_PRODUCT);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) dispatch(getReviews({\n      productId\n    }));\n  }, [productId, dispatch]);\n  let renderReviews;\n  if (reviewsByProduct) {\n    const reviews = reviewsByProduct === null || reviewsByProduct === void 0 ? void 0 : reviewsByProduct.map(reviewId => reviewsById[reviewId]);\n    renderReviews = /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 1.5,\n      children: reviews === null || reviews === void 0 ? void 0 : reviews.map(review => /*#__PURE__*/_jsxDEV(ReviewCard, {\n        review: review\n      }, review._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  } else if (isLoading) {\n    renderReviews = /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 1.5,\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      justifyContent: \"space-between\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), renderReviews]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n}\n_s(ReviewList, \"F30vlpQ3vP7nN6so9zQLMCdSWKI=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ReviewList;\nexport default ReviewList;\nvar _c;\n$RefreshReg$(_c, \"ReviewList\");","map":{"version":3,"names":["Pagination","Typography","Stack","React","useEffect","shallowEqual","useDispatch","useSelector","REVIEWS_PER_PRODUCT","LoadingScreen","ReviewCard","getReviews","ReviewList","productId","reviewsByProduct","reviewsById","count","isLoading","currentPage","state","review","currentPageByProduct","console","log","dispatch","renderReviews","reviews","map","reviewId","_id"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/review/ReviewList.js"],"sourcesContent":["import { Pagination, Typography } from '@mui/material';\r\nimport { Stack } from '@mui/system';\r\nimport React, { useEffect } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { REVIEWS_PER_PRODUCT } from \"../../app/config\";\r\nimport LoadingScreen from '../../components/loadingScreen/LoadingScreen';\r\nimport ReviewCard from './ReviewCard';\r\nimport { getReviews } from './reviewSlice';\r\nfunction ReviewList({ productId }) {\r\n  const {\r\n    reviewsByProduct,\r\n    reviewsById,\r\n    count,\r\n    isLoading,\r\n    currentPage,\r\n  } = useSelector(\r\n    (state) => ({\r\n      reviewsByProduct: state?.review?.reviewsByProduct[productId],\r\n      // count: state?.review?.totalReviewsByProduct[productId],\r\n      count:state?.review,\r\n      currentPage: state?.review?.currentPageByProduct[productId] || 1,\r\n      reviewsById: state?.review?.reviewsById,\r\n      isLoading: state?.review?.isLoading,\r\n    }),\r\n    shallowEqual\r\n   \r\n  );\r\n    console.log(\"reviewByProduct\", reviewsByProduct)\r\n    console.log(\"totalReview\", count)\r\n  // const totalPages = Math.ceil(totalReviews / REVIEWS_PER_PRODUCT);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (productId) dispatch(getReviews({ productId }));\r\n  }, [productId, dispatch]);\r\n\r\n  let renderReviews;\r\n\r\n  if (reviewsByProduct) {\r\n    const reviews = reviewsByProduct?.map((reviewId) => reviewsById[reviewId]);\r\n  \r\n    renderReviews = (\r\n      <Stack spacing={1.5}>\r\n        {reviews?.map((review) => (\r\n          <ReviewCard key={review._id} review={review} />\r\n        ))}\r\n      </Stack>\r\n    );\r\n  } else if (isLoading) {\r\n    renderReviews = <LoadingScreen />;\r\n  }\r\n  return (\r\n      <Stack spacing={1.5}>\r\n      <Stack direction=\"row\" justifyContent=\"space-between\">\r\n        {/* <Typography variant=\"subtitle\" sx={{ color: \"text.secondary\" }}>\r\n          {totalReviews > 1\r\n            ? `${totalReviews} reviews`\r\n            : totalReviews === 1\r\n            ? `${totalReviews} review`\r\n            : \"No review\"}\r\n        </Typography> */}\r\n\r\n        {/* {totalReviews > REVIEWS_PER_PRODUCT && (\r\n          <Pagination\r\n            count={totalPages}\r\n            page={currentPage}\r\n            onChange={(e, page) => dispatch(getReviews({ productId, page }))}\r\n          />\r\n        )} */}\r\n      </Stack>\r\n      {renderReviews}\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default ReviewList\r\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,UAAU,QAAQ,eAAe;AACtD,SAASC,KAAK,QAAQ,aAAa;AACnC,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,YAAY,EAAEC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACpE,SAASC,mBAAmB,QAAQ,kBAAkB;AACtD,OAAOC,aAAa,MAAM,8CAA8C;AACxE,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,UAAU,QAAQ,eAAe;AAAC;AAC3C,SAASC,UAAU,OAAgB;EAAA;EAAA,IAAf;IAAEC;EAAU,CAAC;EAC/B,MAAM;IACJC,gBAAgB;IAChBC,WAAW;IACXC,KAAK;IACLC,SAAS;IACTC;EACF,CAAC,GAAGX,WAAW,CACZY,KAAK;IAAA;IAAA,OAAM;MACVL,gBAAgB,EAAEK,KAAK,aAALA,KAAK,wCAALA,KAAK,CAAEC,MAAM,kDAAb,cAAeN,gBAAgB,CAACD,SAAS,CAAC;MAC5D;MACAG,KAAK,EAACG,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEC,MAAM;MACnBF,WAAW,EAAE,CAAAC,KAAK,aAALA,KAAK,yCAALA,KAAK,CAAEC,MAAM,mDAAb,eAAeC,oBAAoB,CAACR,SAAS,CAAC,KAAI,CAAC;MAChEE,WAAW,EAAEI,KAAK,aAALA,KAAK,yCAALA,KAAK,CAAEC,MAAM,mDAAb,eAAeL,WAAW;MACvCE,SAAS,EAAEE,KAAK,aAALA,KAAK,yCAALA,KAAK,CAAEC,MAAM,mDAAb,eAAeH;IAC5B,CAAC;EAAA,CAAC,EACFZ,YAAY,CAEb;EACCiB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAET,gBAAgB,CAAC;EAChDQ,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEP,KAAK,CAAC;EACnC;EACA,MAAMQ,QAAQ,GAAGlB,WAAW,EAAE;EAE9BF,SAAS,CAAC,MAAM;IACd,IAAIS,SAAS,EAAEW,QAAQ,CAACb,UAAU,CAAC;MAAEE;IAAU,CAAC,CAAC,CAAC;EACpD,CAAC,EAAE,CAACA,SAAS,EAAEW,QAAQ,CAAC,CAAC;EAEzB,IAAIC,aAAa;EAEjB,IAAIX,gBAAgB,EAAE;IACpB,MAAMY,OAAO,GAAGZ,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEa,GAAG,CAAEC,QAAQ,IAAKb,WAAW,CAACa,QAAQ,CAAC,CAAC;IAE1EH,aAAa,gBACX,QAAC,KAAK;MAAC,OAAO,EAAE,GAAI;MAAA,UACjBC,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,GAAG,CAAEP,MAAM,iBACnB,QAAC,UAAU;QAAkB,MAAM,EAAEA;MAAO,GAA3BA,MAAM,CAACS,GAAG;QAAA;QAAA;QAAA;MAAA,QAC5B;IAAC;MAAA;MAAA;MAAA;IAAA,QAEL;EACH,CAAC,MAAM,IAAIZ,SAAS,EAAE;IACpBQ,aAAa,gBAAG,QAAC,aAAa;MAAA;MAAA;MAAA;IAAA,QAAG;EACnC;EACA,oBACI,QAAC,KAAK;IAAC,OAAO,EAAE,GAAI;IAAA,wBACpB,QAAC,KAAK;MAAC,SAAS,EAAC,KAAK;MAAC,cAAc,EAAC;IAAe;MAAA;MAAA;MAAA;IAAA,QAgB7C,EACPA,aAAa;EAAA;IAAA;IAAA;IAAA;EAAA,QACR;AAEZ;AAAC,GAjEQb,UAAU;EAAA,QAObL,WAAW,EAeED,WAAW;AAAA;AAAA,KAtBrBM,UAAU;AAmEnB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}