{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\Final-food\\\\src\\\\features\\\\user\\\\AccountGeneral.js\",\n  _s = $RefreshSig$();\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { LoadingButton } from '@mui/lab';\nimport { Box, Card, Grid, Stack, Typography } from '@mui/material';\nimport React, { useCallback } from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as yup from \"yup\";\nimport { FTextField, FUploadAvatar } from '../../components/form';\nimport useAuth from '../../hooks/useAuth';\nimport { fData } from '../../utils/numberFormat';\nimport { updateUserProfile } from './userSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateUserSchema = yup.object().shape({\n  name: yup.string().required(\"Name is required\")\n});\nfunction AccountGeneral() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useAuth();\n  const isLoading = useSelector(state => state.user.isLoading);\n  const defaultValues = {\n    name: (user === null || user === void 0 ? void 0 : user.name) || \"\",\n    email: (user === null || user === void 0 ? void 0 : user.email) || \"\",\n    avataUrl: (user === null || user === void 0 ? void 0 : user.avataUrl) || \"\",\n    phoneNumber: (user === null || user === void 0 ? void 0 : user.phone) || \"\",\n    address: (user === null || user === void 0 ? void 0 : user.address) || \"\",\n    city: (user === null || user === void 0 ? void 0 : user.city) || \"\",\n    country: (user === null || user === void 0 ? void 0 : user.country) || \"\"\n  };\n  const methods = useForm({\n    resolver: yupResolver(UpdateUserSchema),\n    defaultValues\n  });\n  const {\n    setValue,\n    handleSubmit,\n    formState: {\n      isSubmitting\n    }\n  } = methods;\n  const handleDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setValue(\"avataUrl\", Object.assign(file, {\n        preview: URL.createObjectURL(file)\n      }));\n    }\n  }, [setValue]);\n  const onSubmit = data => {\n    dispatch(updateUserProfile({\n      userId: user._id,\n      ...data\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(FormProvider, {\n    methods: methods,\n    onSubmit: handleSubmit(onSubmit),\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            py: 10,\n            px: 3,\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(FUploadAvatar, {\n            name: \"avataUrl\",\n            accept: \"image/*\",\n            maxSize: 3145728,\n            onDrop: handleDrop,\n            helperText: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                mt: 2,\n                mx: \"auto\",\n                display: \"block\",\n                textAlign: \"center\",\n                color: \"text.secondary\"\n              },\n              children: [\"Allowed *.jpeg, *.jpg, *.png, *.gif\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), \" max size of \", fData(3145728)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: \"grid\",\n              rowGap: 3,\n              columnGap: 2,\n              gridTemplateColumns: {\n                xs: \"repeat(1, 1fr)\",\n                sm: \"repeat(2, 1fr)\"\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"name\",\n              label: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"email\",\n              label: \"Email\",\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"phoneNumber\",\n              label: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"address\",\n              label: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"city\",\n              label: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FTextField, {\n              name: \"country\",\n              label: \"Country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 3,\n            alignItems: \"flex-end\",\n            sx: {\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n              type: \"submit\",\n              variant: \"contained\",\n              loading: isSubmitting || isLoading,\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(AccountGeneral, \"XjamVnPUFnYk0sKhnyzGLLNr0VA=\", false, function () {\n  return [useDispatch, useAuth, useSelector, useForm];\n});\n_c = AccountGeneral;\nexport default AccountGeneral;\nvar _c;\n$RefreshReg$(_c, \"AccountGeneral\");","map":{"version":3,"names":["yupResolver","LoadingButton","Box","Card","Grid","Stack","Typography","React","useCallback","FormProvider","useForm","useDispatch","useSelector","yup","FTextField","FUploadAvatar","useAuth","fData","updateUserProfile","UpdateUserSchema","object","shape","name","string","required","AccountGeneral","dispatch","user","isLoading","state","defaultValues","email","avataUrl","phoneNumber","phone","address","city","country","methods","resolver","setValue","handleSubmit","formState","isSubmitting","handleDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","onSubmit","data","userId","_id","py","px","textAlign","mt","mx","display","color","p","rowGap","columnGap","gridTemplateColumns","xs","sm"],"sources":["D:/Github/Final-food/src/features/user/AccountGeneral.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { LoadingButton } from '@mui/lab';\r\nimport { Box, Card, Grid, Stack, Typography } from '@mui/material';\r\nimport React, { useCallback } from 'react'\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport * as yup from \"yup\";\r\nimport { FTextField, FUploadAvatar } from '../../components/form';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { fData } from '../../utils/numberFormat';\r\nimport { updateUserProfile } from './userSlice';\r\n\r\nconst UpdateUserSchema = yup.object().shape({\r\n  name: yup.string().required(\"Name is required\"),\r\n});\r\n\r\nfunction AccountGeneral() {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useAuth();\r\n  const isLoading = useSelector((state) => state.user.isLoading);\r\n\r\n  const defaultValues = {\r\n    name: user?.name || \"\",\r\n    email: user?.email || \"\",\r\n    avataUrl: user?.avataUrl || \"\",\r\n    phoneNumber: user?.phone || \"\",\r\n    address: user?.address || \"\",\r\n    city: user?.city || \"\",\r\n    country: user?.country || \"\",\r\n\r\n  };\r\n   const methods = useForm({\r\n    resolver: yupResolver(UpdateUserSchema),\r\n    defaultValues,\r\n  });\r\n\r\n  const {\r\n    setValue,\r\n    handleSubmit,\r\n    formState: { isSubmitting },\r\n  } = methods;\r\n\r\n  const handleDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      const file = acceptedFiles[0];\r\n  if (file) {\r\n        setValue(\r\n          \"avataUrl\",\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        );\r\n      }\r\n    },\r\n    [setValue]\r\n  );\r\n\r\n   const onSubmit = (data) => {\r\n    dispatch(updateUserProfile({ userId: user._id, ...data }));\r\n\r\n  };\r\n  return (\r\n    <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n    \r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ py: 10, px: 3, textAlign: \"center\" }}>\r\n            <FUploadAvatar\r\n              name=\"avataUrl\"\r\n              accept=\"image/*\"\r\n              maxSize={3145728}\r\n              onDrop={handleDrop}\r\n              helperText={\r\n                <Typography\r\n                  variant=\"caption\"\r\n                  sx={{\r\n                    mt: 2,\r\n                    mx: \"auto\",\r\n                    display: \"block\",\r\n                    textAlign: \"center\",\r\n                    color: \"text.secondary\",\r\n                  }}\r\n                >\r\n                  Allowed *.jpeg, *.jpg, *.png, *.gif\r\n                  <br /> max size of {fData(3145728)}\r\n                </Typography>\r\n              }\r\n            />\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={8}>\r\n          <Card sx={{ p: 3 }}>\r\n            <Box\r\n              sx={{\r\n                display: \"grid\",\r\n                rowGap: 3,\r\n                columnGap: 2,\r\n                gridTemplateColumns: {\r\n                  xs: \"repeat(1, 1fr)\",\r\n                  sm: \"repeat(2, 1fr)\",\r\n                },\r\n              }}\r\n            >\r\n              <FTextField name=\"name\" label=\"Name\" />\r\n              <FTextField name=\"email\" label=\"Email\" disabled />\r\n\r\n              <FTextField name=\"phoneNumber\" label=\"Phone Number\" />\r\n              <FTextField name=\"address\" label=\"Address\" />\r\n\r\n              <FTextField name=\"city\" label=\"City\" />\r\n              <FTextField name=\"country\" label=\"Country\" />\r\n            </Box>\r\n\r\n            <Stack spacing={3} alignItems=\"flex-end\" sx={{ mt: 3 }}>\r\n              <LoadingButton\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                loading={isSubmitting || isLoading}\r\n              >\r\n                Save Changes\r\n              </LoadingButton>\r\n            </Stack>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </FormProvider>\r\n  )\r\n}\r\n\r\nexport default AccountGeneral\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}