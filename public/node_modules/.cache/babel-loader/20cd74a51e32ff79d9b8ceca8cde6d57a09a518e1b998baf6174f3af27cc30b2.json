{"ast":null,"code":"import _regeneratorRuntime from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ProductionQuantityLimitsSharp}from\"@mui/icons-material\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";import apiService from\"../../app/apiService\";import{PER_PAGE}from\"../../app/config\";var initialState={isLoading:false,error:null,orders:[],page:1,totalOrders:null};var slice=createSlice({name:\"order\",initialState:initialState,reducers:{startLoading:function startLoading(state){state.isLoading=true;},hasError:function hasError(state,action){state.isLoading=false;state.error=action.payload;},addOrderSuccess:function addOrderSuccess(state,action){state.isLoading=false;state.error=null;},getOrderSuccess:function getOrderSuccess(state,action){state.isLoading=false;state.error=null;state.orders=action.payload;},updateOrderSuccess:function updateOrderSuccess(state,action){state.isLoading=false;state.error=null;}}});export default slice.reducer;export var createOrder=function createOrder(_ref){var name=_ref.name,addressShip=_ref.addressShip,phone=_ref.phone,products=_ref.products,priceShip=_ref.priceShip,total=_ref.total,userId=_ref.userId;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(slice.actions.startLoading);_context.prev=1;_context.next=4;return apiService.post(\"/orders/me\",{name:name,addressShip:addressShip,phone:phone,products:products,priceShip:priceShip,total:total,userId:userId});case 4:response=_context.sent;dispatch(slice.actions.addOrderSuccess(response));toast.success(\"Order Successfully\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch(slice.actions.hasError(_context.t0.message));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export var getOrder=function getOrder(_ref3){var page=_ref3.page,_ref3$limit=_ref3.limit,limit=_ref3$limit===void 0?PER_PAGE:_ref3$limit;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var params,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(slice.actions.startLoading());_context2.prev=1;params={page:page,limit:limit};_context2.next=5;return apiService.get(\"/orders/me\",{params:params});case 5:response=_context2.sent;dispatch(slice.actions.getOrderSuccess(response.data.orders));_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);dispatch(slice.actions.hasError(_context2.t0.message));toast.error(_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref4.apply(this,arguments);};}();};export var updateOrder=function updateOrder(_ref5){var id=_ref5.id,status=_ref5.status;return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(slice.actions.startLoading());_context3.prev=1;_context3.next=4;return apiService.put(\"/orders/me/\".concat(id),{status:status});case 4:response=_context3.sent;dispatch(slice.actions.updateOrderSuccess(response.data));toast.success(\"Update Order Successfully\");_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);dispatch(slice.actions.hasError(_context3.t0.message));toast.error(_context3.t0.message);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[1,9]]);}));return function(_x3){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"names":["ProductionQuantityLimitsSharp","createSlice","toast","apiService","PER_PAGE","initialState","isLoading","error","orders","page","totalOrders","slice","name","reducers","startLoading","state","hasError","action","payload","addOrderSuccess","getOrderSuccess","updateOrderSuccess","reducer","createOrder","addressShip","phone","products","priceShip","total","userId","dispatch","actions","post","response","success","message","getOrder","limit","params","get","data","updateOrder","id","status","put"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/order/orderSlice.js"],"sourcesContent":["import { ProductionQuantityLimitsSharp } from \"@mui/icons-material\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-toastify\";\r\nimport apiService from \"../../app/apiService\";\r\nimport { PER_PAGE } from \"../../app/config\";\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: null,\r\n  orders: [],\r\n  page: 1,\r\n  totalOrders: null,\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"order\",\r\n  initialState,\r\n  reducers: {\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    addOrderSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    getOrderSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.orders = action.payload;\r\n    },\r\n    updateOrderSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const createOrder =\r\n  ({ name, addressShip, phone, products, priceShip, total, userId }) =>\r\n  async (dispatch) => {\r\n    dispatch(slice.actions.startLoading);\r\n    try {\r\n      const response = await apiService.post(`/orders/me`, {\r\n        name,\r\n        addressShip,\r\n        phone,\r\n        products,\r\n        priceShip,\r\n        total,\r\n        userId,\r\n      });\r\n      dispatch(slice.actions.addOrderSuccess(response));\r\n      toast.success(\"Order Successfully\");\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error.message));\r\n    }\r\n  };\r\n\r\nexport const getOrder =\r\n  ({ page, limit = PER_PAGE }) =>\r\n  async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const params = { page, limit };\r\n      const response = await apiService.get(`/orders/me`, { params });\r\n      dispatch(slice.actions.getOrderSuccess(response.data.orders));\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error.message));\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\nexport const updateOrder =\r\n  ({ id, status }) =>\r\n  async (dispatch) => {\r\n    dispatch(slice.actions.startLoading());\r\n    try {\r\n      const response = await apiService.put(`/orders/me/${id}`, {\r\n        status,\r\n      });\r\n      dispatch(slice.actions.updateOrderSuccess(response.data));\r\n      toast.success(\"Update Order Successfully\");\r\n    } catch (error) {\r\n      dispatch(slice.actions.hasError(error.message));\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}