{"ast":null,"code":"import _objectSpread from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Container,Typography}from\"@mui/material\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import useAuth from\"../../hooks/useAuth\";import\"./cart.css\";import{deleteCart,updateCart}from\"./cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(_ref){var cartCount=_ref.cartCount,setCartCount=_ref.setCartCount;var _useAuth=useAuth(),user=_useAuth.user;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),amountInput=_useState2[0],setAmountInput=_useState2[1];var handleInc=function handleInc(id,amount){setAmountInput(false);setCartCount(cartCount.map(function(item){return id===item._id?_objectSpread(_objectSpread({},item),{},{amount:item.amount+1}):item;}));amount+=1;dispatch(updateCart(id,amount));};var handleDec=function handleDec(id,amount){setAmountInput(false);setCartCount(cartCount.map(function(item){return id===item._id?_objectSpread(_objectSpread({},item),{},{amount:item.amount-(item.amount>1?1:0)}):item;}));amount-=amount>1?1:0;dispatch(updateCart(id,amount));};var handleDel=function handleDel(id){if(user){dispatch(deleteCart(id));}};return/*#__PURE__*/_jsxs(Container,{className:\"cart-container\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",textAlign:\"center\",children:\"Shopping Cart\"}),(cartCount===null||cartCount===void 0?void 0:cartCount.length)===0?/*#__PURE__*/_jsxs(Box,{className:\"cart-empty\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",textAlign:\"center\",children:\"Your cart is currently empty\"}),/*#__PURE__*/_jsx(Box,{className:\"start-shopping\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\" \\uD83D\\uDD19 Start Shopping\"})})})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{className:\"titles\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:\"Product\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"total\",children:\"Total\"})]}),/*#__PURE__*/_jsx(Box,{className:\"cart-items\",children:cartCount&&cartCount.map(function(cart){return/*#__PURE__*/_jsxs(Box,{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(Box,{className:\"cart-product\",children:[/*#__PURE__*/_jsx(\"img\",{src:cart.productId.image[0],alt:\"\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{fontWeight:500,ml:0.5,fontSize:20,children:cart.productId.productName}),/*#__PURE__*/_jsx(Button,{size:\"small\",sx:{color:\"#000\"},onClick:function onClick(e){handleDel(cart._id);},children:\"Remove\"})]})]}),/*#__PURE__*/_jsxs(Typography,{children:[\"$ \",cart.productId.price]}),/*#__PURE__*/_jsxs(Box,{className:\"cart-product-quantity\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){handleDec(cart._id,cart.amount);},children:\"\\u268A\"}),/*#__PURE__*/_jsx(Box,{className:\"count\",children:cart.amount}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){handleInc(cart._id,cart.amount);},children:\"\\u271A\"})]}),/*#__PURE__*/_jsxs(Box,{className:\"cart-product-total-price\",children:[\"$ \",cart.productId.price*cart.amount]})]},cart.productId._id);})}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},children:/*#__PURE__*/_jsx(Box,{className:\"continue-shopping\",children:/*#__PURE__*/_jsx(Link,{to:\"/store\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"\\uD83D\\uDD19 Continue Shopping\"})})})})]})]});}export default Cart;","map":{"version":3,"names":["Box","Button","Container","Typography","React","useState","useDispatch","Link","useNavigate","useAuth","deleteCart","updateCart","Cart","cartCount","setCartCount","user","dispatch","amountInput","setAmountInput","handleInc","id","amount","map","item","_id","handleDec","handleDel","length","cart","productId","image","productName","color","e","price","display","justifyContent","flexDirection"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/cart/Cart.js"],"sourcesContent":["import { Box, Button, Container, Typography } from \"@mui/material\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport \"./cart.css\";\r\nimport { deleteCart, updateCart } from \"./cartSlice\";\r\n\r\nfunction Cart({ cartCount, setCartCount }) {\r\n  const { user } = useAuth();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [amountInput, setAmountInput] = useState(false);\r\n\r\n  const handleInc = (id, amount) => {\r\n    setAmountInput(false);\r\n    setCartCount(\r\n      cartCount.map((item) =>\r\n        id === item._id ? { ...item, amount: item.amount + 1 } : item\r\n      )\r\n    );\r\n\r\n    amount += 1;\r\n    dispatch(updateCart(id, amount));\r\n  };\r\n\r\n  const handleDec = (id, amount) => {\r\n    setAmountInput(false);\r\n    setCartCount(\r\n      cartCount.map((item) =>\r\n        id === item._id\r\n          ? { ...item, amount: item.amount - (item.amount > 1 ? 1 : 0) }\r\n          : item\r\n      )\r\n    );\r\n    amount -= amount > 1 ? 1 : 0;\r\n    dispatch(updateCart(id, amount));\r\n  };\r\n\r\n  const handleDel = (id) => {\r\n    if (user) {\r\n      dispatch(deleteCart(id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"cart-container\">\r\n      <Typography variant=\"h4\" textAlign=\"center\">\r\n        Shopping Cart\r\n      </Typography>\r\n      {cartCount?.length === 0 ? (\r\n        <Box className=\"cart-empty\">\r\n          <Typography variant=\"h5\" textAlign=\"center\">\r\n            Your cart is currently empty\r\n          </Typography>\r\n          <Box className=\"start-shopping\">\r\n            <Link to=\"/\">\r\n              <Typography variant=\"h6\"> ðŸ”™ Start Shopping</Typography>\r\n            </Link>\r\n          </Box>\r\n        </Box>\r\n      ) : (\r\n        <Box>\r\n          <Box className=\"titles\">\r\n            <h3 className=\"product-title\">Product</h3>\r\n            <h3 className=\"price\">Price</h3>\r\n            <h3 className=\"quantity\">Quantity</h3>\r\n            <h3 className=\"total\">Total</h3>\r\n          </Box>\r\n          <Box className=\"cart-items\">\r\n            {cartCount &&\r\n              cartCount.map((cart) => (\r\n                <Box className=\"cart-item\" key={cart.productId._id}>\r\n                  <Box className=\"cart-product\">\r\n                    <img src={cart.productId.image[0]} alt=\"\" />\r\n                    <Box>\r\n                      <Typography fontWeight={500} ml={0.5} fontSize={20}>\r\n                        {cart.productId.productName}\r\n                      </Typography>\r\n\r\n                      <Button\r\n                        size=\"small\"\r\n                        sx={{\r\n                          color: \"#000\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                          handleDel(cart._id);\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </Box>\r\n                  </Box>\r\n                  <Typography>$ {cart.productId.price}</Typography>\r\n                  <Box className=\"cart-product-quantity\">\r\n                    <Button\r\n                      onClick={() => {\r\n                        handleDec(cart._id, cart.amount);\r\n                      }}\r\n                    >\r\n                      âšŠ\r\n                    </Button>\r\n                    <Box className=\"count\">{cart.amount}</Box>\r\n                    <Button\r\n                      onClick={() => {\r\n                        handleInc(cart._id, cart.amount);\r\n                      }}\r\n                    >\r\n                      âœš\r\n                    </Button>\r\n                  </Box>\r\n                  <Box className=\"cart-product-total-price\">\r\n                    $ {cart.productId.price * cart.amount}\r\n                  </Box>\r\n                </Box>\r\n              ))}\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <Box className=\"continue-shopping\">\r\n              <Link to=\"/store\">\r\n                <Typography variant=\"h6\">ðŸ”™ Continue Shopping</Typography>\r\n              </Link>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}