{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\nimport apiService from \"../../app/apiService\";\nimport { cloudinaryUpload } from \"../../utils/cloudinary\";\nconst initialState = {\n  isLoading: false,\n  error: null,\n  reports: {},\n  products: [],\n  product: {},\n  totalPageProduct: 1,\n  totalProduct: 0,\n  totalCustomer: 0,\n  totalOrder: 0,\n  filters: {}\n};\nconst slice = createSlice({\n  name: \"dashboard\",\n  initialState,\n  reducers: {\n    startLoading(state) {\n      state.isLoading = true;\n    },\n    hasError(state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n    getReportsDashboardSuccess(state, action) {\n      state.isLoading = false;\n      state.error = null;\n      console.log(\"action payload\", action.payload);\n      state.reports = action.payload;\n    },\n    handleChangeDashBoardFilters(state, action) {\n      state.isLoading = false;\n      state.error = null;\n      state.filters = {\n        ...state.filters,\n        ...action.payload\n      };\n    },\n    handleClearDashBoardFilters(state) {\n      state.isLoading = false;\n      state.error = null;\n      state.filters = {};\n    }\n  }\n});\nexport default slice.reducer;\nexport const {\n  startLoading,\n  getReportsDashboardSuccess,\n  handleClearDashBoardFilters,\n  handleChangeDashBoardFilters,\n  hasError\n} = slice.actions;\nexport const getReportsDashboard = filters => async dispatch => {\n  dispatch(slice.actions.startLoading());\n  try {\n    const response = await apiService.get(\"/dashboards\", {\n      params: {\n        ...filters\n      }\n    });\n    if (response) {\n      dispatch(slice.actions.getReportsDashboardSuccess(response.data));\n    }\n  } catch (error) {\n    dispatch(slice.actions.hasError(error));\n    toast.error(error.message);\n  }\n};","map":{"version":3,"names":["createSlice","toast","apiService","cloudinaryUpload","initialState","isLoading","error","reports","products","product","totalPageProduct","totalProduct","totalCustomer","totalOrder","filters","slice","name","reducers","startLoading","state","hasError","action","payload","getReportsDashboardSuccess","console","log","handleChangeDashBoardFilters","handleClearDashBoardFilters","reducer","actions","getReportsDashboard","dispatch","response","get","params","data","message"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/dashboard/dashboardSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-toastify\";\r\nimport apiService from \"../../app/apiService\";\r\nimport { cloudinaryUpload } from \"../../utils/cloudinary\";\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: null,\r\n  \r\n  reports: {},\r\n  products: [],\r\n  product: {},\r\n  totalPageProduct: 1,\r\n\r\n  totalProduct: 0,\r\n  totalCustomer:0,\r\n  totalOrder:0,\r\n\r\n  filters: {},\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"dashboard\",\r\n  initialState,\r\n  reducers: {\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    getReportsDashboardSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      console.log(\"action payload\", action.payload)\r\n      state.reports = action.payload;\r\n\r\n    },\r\n\r\n     handleChangeDashBoardFilters(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.filters = { ...state.filters, ...action.payload };\r\n    },\r\n     handleClearDashBoardFilters(state) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.filters = {};\r\n    },\r\n\r\n}\r\n\r\n});\r\nexport default slice.reducer;\r\n\r\nexport const {\r\n  startLoading,\r\n  getReportsDashboardSuccess,\r\n  handleClearDashBoardFilters,\r\n  handleChangeDashBoardFilters,\r\n  hasError,\r\n} = slice.actions\r\n\r\n\r\nexport const getReportsDashboard = (filters) => async (dispatch) => {\r\n  dispatch(slice.actions.startLoading());\r\n  try {\r\n    const response = await apiService.get(\"/dashboards\", {\r\n      params: { ...filters },\r\n    });\r\n\r\n    if (response) {\r\n      dispatch(slice.actions.getReportsDashboardSuccess(response.data));\r\n    }\r\n  } catch (error) {\r\n    dispatch(slice.actions.hasError(error));\r\n    toast.error(error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,SAASC,gBAAgB,QAAQ,wBAAwB;AAKzD,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE,IAAI;EAEXC,OAAO,EAAE,CAAC,CAAC;EACXC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE,CAAC,CAAC;EACXC,gBAAgB,EAAE,CAAC;EAEnBC,YAAY,EAAE,CAAC;EACfC,aAAa,EAAC,CAAC;EACfC,UAAU,EAAC,CAAC;EAEZC,OAAO,EAAE,CAAC;AACZ,CAAC;AAED,MAAMC,KAAK,GAAGf,WAAW,CAAC;EACxBgB,IAAI,EAAE,WAAW;EACjBZ,YAAY;EACZa,QAAQ,EAAE;IACRC,YAAY,CAACC,KAAK,EAAE;MAClBA,KAAK,CAACd,SAAS,GAAG,IAAI;IACxB,CAAC;IAEDe,QAAQ,CAACD,KAAK,EAAEE,MAAM,EAAE;MACtBF,KAAK,CAACd,SAAS,GAAG,KAAK;MACvBc,KAAK,CAACb,KAAK,GAAGe,MAAM,CAACC,OAAO;IAC9B,CAAC;IACDC,0BAA0B,CAACJ,KAAK,EAAEE,MAAM,EAAE;MACxCF,KAAK,CAACd,SAAS,GAAG,KAAK;MACvBc,KAAK,CAACb,KAAK,GAAG,IAAI;MAClBkB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEJ,MAAM,CAACC,OAAO,CAAC;MAC7CH,KAAK,CAACZ,OAAO,GAAGc,MAAM,CAACC,OAAO;IAEhC,CAAC;IAEAI,4BAA4B,CAACP,KAAK,EAAEE,MAAM,EAAE;MAC3CF,KAAK,CAACd,SAAS,GAAG,KAAK;MACvBc,KAAK,CAACb,KAAK,GAAG,IAAI;MAClBa,KAAK,CAACL,OAAO,GAAG;QAAE,GAAGK,KAAK,CAACL,OAAO;QAAE,GAAGO,MAAM,CAACC;MAAQ,CAAC;IACzD,CAAC;IACAK,2BAA2B,CAACR,KAAK,EAAE;MAClCA,KAAK,CAACd,SAAS,GAAG,KAAK;MACvBc,KAAK,CAACb,KAAK,GAAG,IAAI;MAClBa,KAAK,CAACL,OAAO,GAAG,CAAC,CAAC;IACpB;EAEJ;AAEA,CAAC,CAAC;AACF,eAAeC,KAAK,CAACa,OAAO;AAE5B,OAAO,MAAM;EACXV,YAAY;EACZK,0BAA0B;EAC1BI,2BAA2B;EAC3BD,4BAA4B;EAC5BN;AACF,CAAC,GAAGL,KAAK,CAACc,OAAO;AAGjB,OAAO,MAAMC,mBAAmB,GAAIhB,OAAO,IAAK,MAAOiB,QAAQ,IAAK;EAClEA,QAAQ,CAAChB,KAAK,CAACc,OAAO,CAACX,YAAY,EAAE,CAAC;EACtC,IAAI;IACF,MAAMc,QAAQ,GAAG,MAAM9B,UAAU,CAAC+B,GAAG,CAAC,aAAa,EAAE;MACnDC,MAAM,EAAE;QAAE,GAAGpB;MAAQ;IACvB,CAAC,CAAC;IAEF,IAAIkB,QAAQ,EAAE;MACZD,QAAQ,CAAChB,KAAK,CAACc,OAAO,CAACN,0BAA0B,CAACS,QAAQ,CAACG,IAAI,CAAC,CAAC;IACnE;EACF,CAAC,CAAC,OAAO7B,KAAK,EAAE;IACdyB,QAAQ,CAAChB,KAAK,CAACc,OAAO,CAACT,QAAQ,CAACd,KAAK,CAAC,CAAC;IACvCL,KAAK,CAACK,KAAK,CAACA,KAAK,CAAC8B,OAAO,CAAC;EAC5B;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}