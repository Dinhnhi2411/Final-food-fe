{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import ArrowRightIcon from\"@mui/icons-material/ArrowRight\";import{Box,Button,Card,CardHeader,Table,TableBody,TableCell,TableHead,TableRow,TableSortLabel,Tooltip}from\"@mui/material\";import PerfectScrollbar from\"react-perfect-scrollbar\";import{fDate}from\"../../../utils/formatTime\";import{fCurrency}from\"../../../utils/numberFormat\";import{Link}from\"react-router-dom\";import{getOrdersDashboard}from\"../../order/orderSlice\";import ButtonStatus from\"../order/ButtonStatus\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LastOrders(props){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.order;}),ordersDashboard=_useSelector.ordersDashboard;useEffect(function(){var filter={sortBy:\"createdAt.desc\"};dispatch(getOrdersDashboard(filter));},[dispatch]);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Latest Orders\"}),/*#__PURE__*/_jsx(PerfectScrollbar,{children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:800},children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Code ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Customer\"}),/*#__PURE__*/_jsx(TableCell,{sortDirection:\"desc\",children:/*#__PURE__*/_jsx(Tooltip,{enterDelay:300,title:\"Sort\",children:/*#__PURE__*/_jsx(TableSortLabel,{active:true,direction:\"desc\",children:\"Date\"})})}),/*#__PURE__*/_jsx(TableCell,{children:\"Amount\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:ordersDashboard===null||ordersDashboard===void 0?void 0:ordersDashboard.map(function(order){order.products.map(function(item){return item;});return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:order===null||order===void 0?void 0:order._id}),/*#__PURE__*/_jsx(TableCell,{children:order===null||order===void 0?void 0:order.name}),/*#__PURE__*/_jsx(TableCell,{children:order.createdAt&&fDate(order.createdAt,\"dd/MM/yyyy\")}),/*#__PURE__*/_jsx(TableCell,{children:fCurrency(order.total)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(ButtonStatus,{status:order.status})})]},order===null||order===void 0?void 0:order._id);})})]})}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"flex-end\",p:2},children:/*#__PURE__*/_jsx(Button,{color:\"primary\",component:Link,to:\"/dashboard/order\",endIcon:/*#__PURE__*/_jsx(ArrowRightIcon,{fontSize:\"small\"}),size:\"small\",variant:\"text\",children:\"View all\"})})]});}","map":{"version":3,"names":["useEffect","useDispatch","useSelector","ArrowRightIcon","Box","Button","Card","CardHeader","Table","TableBody","TableCell","TableHead","TableRow","TableSortLabel","Tooltip","PerfectScrollbar","fDate","fCurrency","Link","getOrdersDashboard","ButtonStatus","LastOrders","props","dispatch","state","order","ordersDashboard","filter","sortBy","minWidth","map","products","item","_id","name","createdAt","total","status","display","justifyContent","p"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/dashboard/reportStore/LastOrder.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ArrowRightIcon from \"@mui/icons-material/ArrowRight\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableSortLabel,\r\n  Tooltip,\r\n} from \"@mui/material\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { fDate } from \"../../../utils/formatTime\";\r\nimport { fCurrency } from \"../../../utils/numberFormat\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getOrdersDashboard } from \"../../order/orderSlice\";\r\nimport ButtonStatus from \"../order/ButtonStatus\";\r\n\r\nexport default function LastOrders(props) {\r\n  const dispatch = useDispatch();\r\n  const {  ordersDashboard } = useSelector((state) => state.order);\r\n\r\n  useEffect(() => {\r\n    const filter = { sortBy: \"createdAt.desc\" };\r\n    dispatch(getOrdersDashboard(filter));\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader title=\"Latest Orders\" />\r\n      <PerfectScrollbar>\r\n        <Table sx={{ minWidth: 800 }}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Code ID</TableCell>\r\n              <TableCell>Customer</TableCell>\r\n              <TableCell sortDirection=\"desc\">\r\n                <Tooltip enterDelay={300} title=\"Sort\">\r\n                  <TableSortLabel active direction=\"desc\">\r\n                    Date\r\n                  </TableSortLabel>\r\n                </Tooltip>\r\n              </TableCell>\r\n              <TableCell>Amount</TableCell>\r\n              <TableCell>Status</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            { ordersDashboard?.map((order) => {\r\n              order.products.map((item)=> {\r\n                return item;\r\n              })\r\n            \r\n              return (\r\n              <TableRow hover key={order?._id}>\r\n                <TableCell>{order?._id}</TableCell>\r\n                <TableCell>{order?.name}</TableCell>\r\n                <TableCell>\r\n                  {order.createdAt && fDate(order.createdAt, \"dd/MM/yyyy\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {fCurrency(order.total)}\r\n                </TableCell>\r\n                <TableCell>\r\n\r\n                  <ButtonStatus status={order.status}/>\r\n                \r\n                </TableCell>\r\n              </TableRow>\r\n              )\r\n           })}\r\n\r\n          </TableBody>\r\n        </Table>\r\n      </PerfectScrollbar>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\",\r\n          p: 2,\r\n        }}\r\n      >\r\n        <Button\r\n          color=\"primary\"\r\n          component={Link}\r\n          to={`/dashboard/order`}\r\n          endIcon={<ArrowRightIcon fontSize=\"small\" />}\r\n          size=\"small\"\r\n          variant=\"text\"\r\n        >\r\n          View all\r\n        </Button>\r\n      </Box>\r\n    </Card>\r\n\r\n  );\r\n  \r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}