{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gitlab\\\\dinhngocliennhi1999_frontend\\\\src\\\\pages\\\\StorePage.js\",\n  _s = $RefreshSig$();\nimport { Alert, Typography } from \"@mui/material\";\nimport { Box, Container, Stack } from \"@mui/system\";\nimport React, { useEffect, useState } from \"react\";\nimport LoadingScreen from \"../components/loadingScreen/LoadingScreen\";\nimport ProductList from \"../features/product/ProductList\";\nimport ProductSearch from \"../features/product/ProductSearch\";\nimport \"./stylePage.css\";\nimport { getProductList, getProducts, handleChangeFilters } from \"../features/product/productSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport PaginationBar from \"../components/pagination/PaginationBar\";\nimport { PER_PAGE } from \"../app/config\";\nimport ProductSort from \"../features/product/ProductSort\";\nimport SearchInput from \"../components/searchInput/SearchInput\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction StorePage() {\n  _s();\n  const dispatch = useDispatch();\n  const [error, setError] = useState(\"\");\n  const [filterName, setFilterName] = useState(\"\");\n  // const [page, setPage] = useState(1);\n\n  // const { currentPage, productById, isLoading, totalProduct, totalPages, products } =\n  //   useSelector((state) => state.product);\n\n  let {\n    products,\n    filters,\n    isLoading,\n    totalProduct,\n    totalPages,\n    currentPage\n  } = useSelector(state => state.product);\n  console.log(products);\n  // const handleSubmit = (searchQuery) => {\n  //   setPage(1);\n  //   setFilterName(searchQuery);\n  // };\n\n  //     useEffect(\n  //   (productName) => {\n  //     productName = filterName;\n\n  //       dispatch(getProducts({ page, productName }));\n\n  //   },\n  //   [page, filterName, dispatch]\n  // );\n\n  const handleDispatch = value => {\n    dispatch(handleChangeFilters(value));\n  };\n  const handleSubmit = searchQuery => dispatch(handleChangeFilters({\n    productName: searchQuery\n  }));\n  useEffect(() => {\n    dispatch(getProductList());\n  }, [filters, dispatch]);\n  const handleChangePage = page => {\n    let pagination = {\n      page,\n      limit: Number(PER_PAGE)\n    };\n    dispatch(getProductList(pagination));\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    sx: {\n      display: \"flex\",\n      minHeight: \"100vh\",\n      mt: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(Stack, {\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        direction: {\n          xs: \"column\",\n          sm: \"row\"\n        },\n        alignItems: {\n          sm: \"center\"\n        },\n        justifyContent: \"space-between\",\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSort, {\n          handleDispatch: handleDispatch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: \"relative\",\n          height: 1\n        },\n        children: isLoading ? /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: error ? /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(ProductList, {\n            products: products\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: {\n            xs: 2,\n            md: 5\n          },\n          mb: {\n            xs: 2,\n            md: 5\n          },\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: totalProduct ? /*#__PURE__*/_jsxDEV(PaginationBar, {\n          totalPage: +totalPages,\n          setPage: handleChangePage,\n          page: +currentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"No Products Yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(StorePage, \"F4LVHF/zwJH4H4DeI6DjHfdHlow=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = StorePage;\nexport default StorePage;\nvar _c;\n$RefreshReg$(_c, \"StorePage\");","map":{"version":3,"names":["Alert","Typography","Box","Container","Stack","React","useEffect","useState","LoadingScreen","ProductList","ProductSearch","getProductList","getProducts","handleChangeFilters","useDispatch","useSelector","PaginationBar","PER_PAGE","ProductSort","SearchInput","StorePage","dispatch","error","setError","filterName","setFilterName","products","filters","isLoading","totalProduct","totalPages","currentPage","state","product","console","log","handleDispatch","value","handleSubmit","searchQuery","productName","handleChangePage","page","pagination","limit","Number","display","minHeight","mt","flexGrow","xs","sm","position","height","md","mb","justifyContent"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/pages/StorePage.js"],"sourcesContent":["import { Alert, Typography } from \"@mui/material\";\r\nimport { Box, Container, Stack } from \"@mui/system\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport LoadingScreen from \"../components/loadingScreen/LoadingScreen\";\r\nimport ProductList from \"../features/product/ProductList\";\r\nimport ProductSearch from \"../features/product/ProductSearch\";\r\nimport \"./stylePage.css\";\r\nimport { getProductList, getProducts, handleChangeFilters } from \"../features/product/productSlice\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PaginationBar from \"../components/pagination/PaginationBar\";\r\nimport { PER_PAGE } from \"../app/config\";\r\nimport ProductSort from \"../features/product/ProductSort\";\r\nimport SearchInput from \"../components/searchInput/SearchInput\";\r\n\r\nfunction StorePage() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [filterName, setFilterName] = useState(\"\");\r\n  // const [page, setPage] = useState(1);\r\n\r\n  // const { currentPage, productById, isLoading, totalProduct, totalPages, products } =\r\n  //   useSelector((state) => state.product);\r\n\r\n  let { products, filters, isLoading, totalProduct, totalPages, currentPage } = useSelector((state) => state.product);\r\n\r\n   console.log(products)\r\n  // const handleSubmit = (searchQuery) => {\r\n  //   setPage(1);\r\n  //   setFilterName(searchQuery);\r\n  // };\r\n\r\n\r\n\r\n  \r\n  //     useEffect(\r\n  //   (productName) => {\r\n  //     productName = filterName;\r\n      \r\n  //       dispatch(getProducts({ page, productName }));\r\n    \r\n  //   },\r\n  //   [page, filterName, dispatch]\r\n  // );\r\n\r\n\r\n   const handleDispatch = (value) => {\r\n    dispatch(handleChangeFilters(value));\r\n  };\r\n\r\n  const handleSubmit = (searchQuery) =>\r\n    dispatch(handleChangeFilters({ productName: searchQuery }));\r\n  \r\n useEffect(() => {\r\n    dispatch(getProductList());\r\n  }, [filters, dispatch]);\r\n\r\n   const handleChangePage = (page) => {\r\n    let pagination = { page, limit: Number(PER_PAGE) };\r\n    dispatch(getProductList(pagination));\r\n  };\r\n  return (\r\n    <Container sx={{ display: \"flex\", minHeight: \"100vh\", mt: 3 }}>\r\n      {/* <Stack>\r\n        <FormProvider methods={methods}>\r\n          <ProductFilter resetFilter={reset} />\r\n        </FormProvider>\r\n      </Stack> */}\r\n\r\n      <Stack sx={{ flexGrow: 1 }}>\r\n        <Stack\r\n          spacing={2}\r\n          direction={{ xs: \"column\", sm: \"row\" }}\r\n          alignItems={{ sm: \"center\" }}\r\n          justifyContent=\"space-between\"\r\n          mb={2}\r\n        >\r\n          <SearchInput handleSubmit={handleSubmit} />\r\n\r\n          <ProductSort handleDispatch={handleDispatch}/>\r\n\r\n        </Stack>\r\n\r\n        <Box sx={{ position: \"relative\", height: 1 }}>\r\n          {isLoading ? (\r\n            <LoadingScreen />\r\n          ) : (\r\n            <>\r\n              {error ? (\r\n                <Alert severity=\"error\">{error}</Alert>\r\n              ) : (\r\n                <ProductList products={products} />\r\n              )}\r\n            </>\r\n          )}\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            mt: { xs: 2, md: 5 },\r\n            mb: { xs: 2, md: 5 },\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          {totalProduct ? (\r\n          <PaginationBar\r\n          totalPage={+totalPages}\r\n          setPage={handleChangePage}\r\n          page={+currentPage}/>\r\n          ) : (\r\n            <Typography variant=\"h6\">No Products Yet</Typography>\r\n          )}\r\n        </Box>\r\n      </Stack>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default StorePage;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}