{"ast":null,"code":"import _regeneratorRuntime from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"D:/Gitlab/dinhngocliennhi1999_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";import apiService from\"../../app/apiService\";import{cloudinaryUpload}from\"../../utils/cloudinary\";var initialState={isLoading:false,error:null,reports:{},products:[],product:{},totalPageProduct:1,totalProduct:0,filters:{}};var slice=createSlice({name:\"dashboard\",initialState:initialState,reducers:{startLoading:function startLoading(state){state.isLoading=true;},hasError:function hasError(state,action){state.isLoading=false;state.error=action.payload;},getReportsDashboardSuccess:function getReportsDashboardSuccess(state,action){state.isLoading=false;state.error=null;state.reports=action.payload;},handleChangeDashBoardFilters:function handleChangeDashBoardFilters(state,action){state.isLoading=false;state.error=null;state.filters=_objectSpread(_objectSpread({},state.filters),action.payload);},handleClearDashBoardFilters:function handleClearDashBoardFilters(state){state.isLoading=false;state.error=null;state.filters={};}}});var _slice$actions=slice.actions,handleChangeDashBoardFilters=_slice$actions.handleChangeDashBoardFilters,handleClearDashBoardFilters=_slice$actions.handleClearDashBoardFilters;export{handleChangeDashBoardFilters,handleClearDashBoardFilters};export var getReportsDashboard=function getReportsDashboard(filters){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(slice.actions.startLoading());_context.prev=1;_context.next=4;return apiService.get(\"/dashboards\",{params:_objectSpread({},filters)});case 4:response=_context.sent;if(response){dispatch(slice.actions.getReportsDashboardSuccess(response.data));}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(slice.actions.hasError(_context.t0));toast.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["createSlice","toast","apiService","cloudinaryUpload","initialState","isLoading","error","reports","products","product","totalPageProduct","totalProduct","filters","slice","name","reducers","startLoading","state","hasError","action","payload","getReportsDashboardSuccess","handleChangeDashBoardFilters","handleClearDashBoardFilters","actions","getReportsDashboard","dispatch","get","params","response","data","message"],"sources":["D:/Gitlab/dinhngocliennhi1999_frontend/src/features/dashboard/dashboardSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-toastify\";\r\nimport apiService from \"../../app/apiService\";\r\nimport { cloudinaryUpload } from \"../../utils/cloudinary\";\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: null,\r\n  reports: {},\r\n  products: [],\r\n  product: {},\r\n  totalPageProduct: 1,\r\n  totalProduct: 0,\r\n  filters: {},\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"dashboard\",\r\n  initialState,\r\n  reducers: {\r\n    startLoading(state) {\r\n      state.isLoading = true;\r\n    },\r\n\r\n    hasError(state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    getReportsDashboardSuccess(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.reports = action.payload;\r\n     \r\n    },\r\n     handleChangeDashBoardFilters(state, action) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.filters = { ...state.filters, ...action.payload };\r\n    },\r\n     handleClearDashBoardFilters(state) {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.filters = {};\r\n    },\r\n\r\n}\r\n\r\n});\r\nexport const {\r\n handleChangeDashBoardFilters,\r\n handleClearDashBoardFilters\r\n} = slice.actions\r\n\r\n\r\nexport const getReportsDashboard = (filters) => async (dispatch) => {\r\n  dispatch(slice.actions.startLoading());\r\n  try {\r\n    const response = await apiService.get(\"/dashboards\", {\r\n      params: { ...filters },\r\n    });\r\n\r\n    if (response) {\r\n      dispatch(slice.actions.getReportsDashboardSuccess(response.data));\r\n    }\r\n  } catch (error) {\r\n    dispatch(slice.actions.hasError(error));\r\n    toast.error(error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"mYAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAOC,WAAU,KAAM,sBAAsB,CAC7C,OAASC,gBAAgB,KAAQ,wBAAwB,CAKzD,GAAMC,aAAY,CAAG,CACnBC,SAAS,CAAE,KAAK,CAChBC,KAAK,CAAE,IAAI,CACXC,OAAO,CAAE,CAAC,CAAC,CACXC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,CAAC,CAAC,CACXC,gBAAgB,CAAE,CAAC,CACnBC,YAAY,CAAE,CAAC,CACfC,OAAO,CAAE,CAAC,CACZ,CAAC,CAED,GAAMC,MAAK,CAAGb,WAAW,CAAC,CACxBc,IAAI,CAAE,WAAW,CACjBV,YAAY,CAAZA,YAAY,CACZW,QAAQ,CAAE,CACRC,YAAY,uBAACC,KAAK,CAAE,CAClBA,KAAK,CAACZ,SAAS,CAAG,IAAI,CACxB,CAAC,CAEDa,QAAQ,mBAACD,KAAK,CAAEE,MAAM,CAAE,CACtBF,KAAK,CAACZ,SAAS,CAAG,KAAK,CACvBY,KAAK,CAACX,KAAK,CAAGa,MAAM,CAACC,OAAO,CAC9B,CAAC,CACDC,0BAA0B,qCAACJ,KAAK,CAAEE,MAAM,CAAE,CACxCF,KAAK,CAACZ,SAAS,CAAG,KAAK,CACvBY,KAAK,CAACX,KAAK,CAAG,IAAI,CAClBW,KAAK,CAACV,OAAO,CAAGY,MAAM,CAACC,OAAO,CAEhC,CAAC,CACAE,4BAA4B,uCAACL,KAAK,CAAEE,MAAM,CAAE,CAC3CF,KAAK,CAACZ,SAAS,CAAG,KAAK,CACvBY,KAAK,CAACX,KAAK,CAAG,IAAI,CAClBW,KAAK,CAACL,OAAO,gCAAQK,KAAK,CAACL,OAAO,EAAKO,MAAM,CAACC,OAAO,CAAE,CACzD,CAAC,CACAG,2BAA2B,sCAACN,KAAK,CAAE,CAClCA,KAAK,CAACZ,SAAS,CAAG,KAAK,CACvBY,KAAK,CAACX,KAAK,CAAG,IAAI,CAClBW,KAAK,CAACL,OAAO,CAAG,CAAC,CAAC,CACpB,CAEJ,CAEA,CAAC,CAAC,CACK,mBAGHC,KAAK,CAACW,OAAO,CAFhBF,4BAA4B,gBAA5BA,4BAA4B,CAC5BC,2BAA2B,gBAA3BA,2BAA2B,CACX,iEAGjB,MAAO,IAAME,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIb,OAAO,mGAAK,iBAAOc,QAAQ,iIAC7DA,QAAQ,CAACb,KAAK,CAACW,OAAO,CAACR,YAAY,EAAE,CAAC,CAAC,sCAEdd,WAAU,CAACyB,GAAG,CAAC,aAAa,CAAE,CACnDC,MAAM,kBAAOhB,OAAO,CACtB,CAAC,CAAC,QAFIiB,QAAQ,eAId,GAAIA,QAAQ,CAAE,CACZH,QAAQ,CAACb,KAAK,CAACW,OAAO,CAACH,0BAA0B,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAAC,CACnE,CAAC,+EAEDJ,QAAQ,CAACb,KAAK,CAACW,OAAO,CAACN,QAAQ,aAAO,CAAC,CACvCjB,KAAK,CAACK,KAAK,CAAC,YAAMyB,OAAO,CAAC,CAAC,oEAE9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}